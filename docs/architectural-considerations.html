<html>

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <style type="text/css">
        ol.lst-kix_bqkc7k1bsekn-7.start {
            counter-reset: lst-ctn-kix_bqkc7k1bsekn-7 0
        }

        .lst-kix_1be2vzkxkezt-4>li {
            counter-increment: lst-ctn-kix_1be2vzkxkezt-4
        }

        .lst-kix_zbo2b7drhc4k-0>li:before {
            content: "\0025cf  "
        }

        .lst-kix_zbo2b7drhc4k-1>li:before {
            content: "\0025cb  "
        }

        .lst-kix_x7ohxit4s7ah-0>li:before {
            content: "\0025cf  "
        }

        ul.lst-kix_59q9d7pquajc-0 {
            list-style-type: none
        }

        .lst-kix_x7ohxit4s7ah-3>li:before {
            content: "\0025cf  "
        }

        .lst-kix_x7ohxit4s7ah-4>li:before {
            content: "\0025cb  "
        }

        ul.lst-kix_59q9d7pquajc-1 {
            list-style-type: none
        }

        .lst-kix_f35rnr7eywic-0>li:before {
            content: "-  "
        }

        ul.lst-kix_59q9d7pquajc-2 {
            list-style-type: none
        }

        ul.lst-kix_zbo2b7drhc4k-0 {
            list-style-type: none
        }

        ul.lst-kix_59q9d7pquajc-3 {
            list-style-type: none
        }

        .lst-kix_x7ohxit4s7ah-1>li:before {
            content: "\0025cb  "
        }

        .lst-kix_x7ohxit4s7ah-2>li:before {
            content: "\0025a0  "
        }

        .lst-kix_x7ohxit4s7ah-5>li:before {
            content: "\0025a0  "
        }

        .lst-kix_x7ohxit4s7ah-6>li:before {
            content: "\0025cf  "
        }

        .lst-kix_f35rnr7eywic-3>li:before {
            content: "-  "
        }

        ul.lst-kix_59q9d7pquajc-8 {
            list-style-type: none
        }

        .lst-kix_f35rnr7eywic-2>li:before {
            content: "-  "
        }

        .lst-kix_1be2vzkxkezt-6>li {
            counter-increment: lst-ctn-kix_1be2vzkxkezt-6
        }

        .lst-kix_zbo2b7drhc4k-8>li:before {
            content: "\0025a0  "
        }

        .lst-kix_f35rnr7eywic-1>li:before {
            content: "-  "
        }

        ul.lst-kix_59q9d7pquajc-4 {
            list-style-type: none
        }

        ul.lst-kix_59q9d7pquajc-5 {
            list-style-type: none
        }

        ol.lst-kix_1be2vzkxkezt-8.start {
            counter-reset: lst-ctn-kix_1be2vzkxkezt-8 0
        }

        ul.lst-kix_59q9d7pquajc-6 {
            list-style-type: none
        }

        ul.lst-kix_59q9d7pquajc-7 {
            list-style-type: none
        }

        ul.lst-kix_x7ohxit4s7ah-6 {
            list-style-type: none
        }

        .lst-kix_f35rnr7eywic-7>li:before {
            content: "-  "
        }

        .lst-kix_zbo2b7drhc4k-3>li:before {
            content: "\0025cf  "
        }

        ul.lst-kix_x7ohxit4s7ah-5 {
            list-style-type: none
        }

        ul.lst-kix_x7ohxit4s7ah-8 {
            list-style-type: none
        }

        .lst-kix_f35rnr7eywic-6>li:before {
            content: "-  "
        }

        .lst-kix_f35rnr7eywic-8>li:before {
            content: "-  "
        }

        .lst-kix_zbo2b7drhc4k-2>li:before {
            content: "\0025a0  "
        }

        .lst-kix_zbo2b7drhc4k-4>li:before {
            content: "\0025cb  "
        }

        ul.lst-kix_x7ohxit4s7ah-7 {
            list-style-type: none
        }

        .lst-kix_zbo2b7drhc4k-7>li:before {
            content: "\0025cb  "
        }

        .lst-kix_x7ohxit4s7ah-7>li:before {
            content: "\0025cb  "
        }

        .lst-kix_x7ohxit4s7ah-8>li:before {
            content: "\0025a0  "
        }

        ul.lst-kix_x7ohxit4s7ah-0 {
            list-style-type: none
        }

        .lst-kix_f35rnr7eywic-4>li:before {
            content: "-  "
        }

        .lst-kix_zbo2b7drhc4k-6>li:before {
            content: "\0025cf  "
        }

        ul.lst-kix_x7ohxit4s7ah-2 {
            list-style-type: none
        }

        .lst-kix_f35rnr7eywic-5>li:before {
            content: "-  "
        }

        .lst-kix_zbo2b7drhc4k-5>li:before {
            content: "\0025a0  "
        }

        ul.lst-kix_x7ohxit4s7ah-1 {
            list-style-type: none
        }

        ul.lst-kix_x7ohxit4s7ah-4 {
            list-style-type: none
        }

        ol.lst-kix_bqkc7k1bsekn-1.start {
            counter-reset: lst-ctn-kix_bqkc7k1bsekn-1 0
        }

        ul.lst-kix_x7ohxit4s7ah-3 {
            list-style-type: none
        }

        ul.lst-kix_cqgib6oxqr5w-1 {
            list-style-type: none
        }

        ul.lst-kix_cqgib6oxqr5w-2 {
            list-style-type: none
        }

        ul.lst-kix_cqgib6oxqr5w-3 {
            list-style-type: none
        }

        ul.lst-kix_cqgib6oxqr5w-4 {
            list-style-type: none
        }

        ul.lst-kix_cqgib6oxqr5w-5 {
            list-style-type: none
        }

        ul.lst-kix_cqgib6oxqr5w-6 {
            list-style-type: none
        }

        ul.lst-kix_cqgib6oxqr5w-7 {
            list-style-type: none
        }

        ul.lst-kix_cqgib6oxqr5w-8 {
            list-style-type: none
        }

        .lst-kix_1be2vzkxkezt-2>li {
            counter-increment: lst-ctn-kix_1be2vzkxkezt-2
        }

        ul.lst-kix_cqgib6oxqr5w-0 {
            list-style-type: none
        }

        ol.lst-kix_bqkc7k1bsekn-6.start {
            counter-reset: lst-ctn-kix_bqkc7k1bsekn-6 0
        }

        .lst-kix_bqkc7k1bsekn-1>li {
            counter-increment: lst-ctn-kix_bqkc7k1bsekn-1
        }

        ol.lst-kix_bqkc7k1bsekn-0.start {
            counter-reset: lst-ctn-kix_bqkc7k1bsekn-0 0
        }

        ol.lst-kix_1be2vzkxkezt-7.start {
            counter-reset: lst-ctn-kix_1be2vzkxkezt-7 0
        }

        .lst-kix_59q9d7pquajc-0>li:before {
            content: "\0025cf  "
        }

        .lst-kix_bqkc7k1bsekn-5>li {
            counter-increment: lst-ctn-kix_bqkc7k1bsekn-5
        }

        .lst-kix_452kwcb7q9ie-4>li:before {
            content: "-  "
        }

        .lst-kix_bqkc7k1bsekn-6>li {
            counter-increment: lst-ctn-kix_bqkc7k1bsekn-6
        }

        .lst-kix_452kwcb7q9ie-0>li:before {
            content: "-  "
        }

        .lst-kix_452kwcb7q9ie-8>li:before {
            content: "-  "
        }

        .lst-kix_1be2vzkxkezt-8>li {
            counter-increment: lst-ctn-kix_1be2vzkxkezt-8
        }

        .lst-kix_1be2vzkxkezt-0>li {
            counter-increment: lst-ctn-kix_1be2vzkxkezt-0
        }

        .lst-kix_59q9d7pquajc-6>li:before {
            content: "\0025cf  "
        }

        .lst-kix_59q9d7pquajc-8>li:before {
            content: "\0025a0  "
        }

        .lst-kix_452kwcb7q9ie-6>li:before {
            content: "-  "
        }

        .lst-kix_59q9d7pquajc-2>li:before {
            content: "\0025a0  "
        }

        .lst-kix_59q9d7pquajc-4>li:before {
            content: "\0025cb  "
        }

        .lst-kix_jk7sfx9h4rdm-5>li:before {
            content: "\0025a0  "
        }

        .lst-kix_jk7sfx9h4rdm-7>li:before {
            content: "\0025cb  "
        }

        .lst-kix_452kwcb7q9ie-2>li:before {
            content: "-  "
        }

        .lst-kix_1be2vzkxkezt-7>li {
            counter-increment: lst-ctn-kix_1be2vzkxkezt-7
        }

        .lst-kix_1be2vzkxkezt-1>li {
            counter-increment: lst-ctn-kix_1be2vzkxkezt-1
        }

        ol.lst-kix_bqkc7k1bsekn-2.start {
            counter-reset: lst-ctn-kix_bqkc7k1bsekn-2 0
        }

        .lst-kix_6k402e41ep8b-1>li:before {
            content: "\0025cb  "
        }

        .lst-kix_6k402e41ep8b-5>li:before {
            content: "\0025a0  "
        }

        ol.lst-kix_bqkc7k1bsekn-7 {
            list-style-type: none
        }

        .lst-kix_1be2vzkxkezt-8>li:before {
            content: ""counter(lst-ctn-kix_1be2vzkxkezt-8, lower-roman) ". "
        }

        ol.lst-kix_bqkc7k1bsekn-6 {
            list-style-type: none
        }

        ol.lst-kix_bqkc7k1bsekn-8 {
            list-style-type: none
        }

        .lst-kix_cqgib6oxqr5w-0>li:before {
            content: "\0025cf  "
        }

        .lst-kix_6k402e41ep8b-3>li:before {
            content: "\0025cf  "
        }

        .lst-kix_1be2vzkxkezt-4>li:before {
            content: "("counter(lst-ctn-kix_1be2vzkxkezt-4, lower-latin) ") "
        }

        .lst-kix_cqgib6oxqr5w-2>li:before {
            content: "\0025a0  "
        }

        .lst-kix_1be2vzkxkezt-2>li:before {
            content: ""counter(lst-ctn-kix_1be2vzkxkezt-2, lower-roman) ") "
        }

        .lst-kix_1be2vzkxkezt-6>li:before {
            content: ""counter(lst-ctn-kix_1be2vzkxkezt-6, decimal) ". "
        }

        ul.lst-kix_zbo2b7drhc4k-6 {
            list-style-type: none
        }

        ul.lst-kix_zbo2b7drhc4k-5 {
            list-style-type: none
        }

        .lst-kix_cqgib6oxqr5w-6>li:before {
            content: "\0025cf  "
        }

        ul.lst-kix_zbo2b7drhc4k-8 {
            list-style-type: none
        }

        ul.lst-kix_zbo2b7drhc4k-7 {
            list-style-type: none
        }

        ul.lst-kix_zbo2b7drhc4k-2 {
            list-style-type: none
        }

        ul.lst-kix_zbo2b7drhc4k-1 {
            list-style-type: none
        }

        .lst-kix_cqgib6oxqr5w-4>li:before {
            content: "\0025cb  "
        }

        ul.lst-kix_zbo2b7drhc4k-4 {
            list-style-type: none
        }

        ul.lst-kix_zbo2b7drhc4k-3 {
            list-style-type: none
        }

        .lst-kix_6k402e41ep8b-7>li:before {
            content: "\0025cb  "
        }

        .lst-kix_bqkc7k1bsekn-8>li:before {
            content: ""counter(lst-ctn-kix_bqkc7k1bsekn-8, lower-roman) ". "
        }

        .lst-kix_bqkc7k1bsekn-6>li:before {
            content: ""counter(lst-ctn-kix_bqkc7k1bsekn-6, decimal) ". "
        }

        .lst-kix_1be2vzkxkezt-0>li:before {
            content: ""counter(lst-ctn-kix_1be2vzkxkezt-0, decimal) ") "
        }

        .lst-kix_cqgib6oxqr5w-8>li:before {
            content: "\0025a0  "
        }

        ol.lst-kix_bqkc7k1bsekn-3.start {
            counter-reset: lst-ctn-kix_bqkc7k1bsekn-3 0
        }

        .lst-kix_bqkc7k1bsekn-0>li:before {
            content: ""counter(lst-ctn-kix_bqkc7k1bsekn-0, decimal) ") "
        }

        ol.lst-kix_bqkc7k1bsekn-1 {
            list-style-type: none
        }

        ol.lst-kix_bqkc7k1bsekn-0 {
            list-style-type: none
        }

        ol.lst-kix_bqkc7k1bsekn-3 {
            list-style-type: none
        }

        .lst-kix_bqkc7k1bsekn-2>li:before {
            content: ""counter(lst-ctn-kix_bqkc7k1bsekn-2, lower-roman) ") "
        }

        ol.lst-kix_bqkc7k1bsekn-2 {
            list-style-type: none
        }

        ol.lst-kix_bqkc7k1bsekn-5 {
            list-style-type: none
        }

        ol.lst-kix_bqkc7k1bsekn-4 {
            list-style-type: none
        }

        .lst-kix_bqkc7k1bsekn-4>li:before {
            content: "("counter(lst-ctn-kix_bqkc7k1bsekn-4, lower-latin) ") "
        }

        ul.lst-kix_7g1ed9ca88aw-1 {
            list-style-type: none
        }

        ul.lst-kix_7g1ed9ca88aw-0 {
            list-style-type: none
        }

        ul.lst-kix_7g1ed9ca88aw-3 {
            list-style-type: none
        }

        ul.lst-kix_7g1ed9ca88aw-2 {
            list-style-type: none
        }

        ul.lst-kix_6k402e41ep8b-3 {
            list-style-type: none
        }

        ul.lst-kix_6k402e41ep8b-4 {
            list-style-type: none
        }

        ul.lst-kix_6k402e41ep8b-5 {
            list-style-type: none
        }

        ul.lst-kix_6k402e41ep8b-6 {
            list-style-type: none
        }

        .lst-kix_1be2vzkxkezt-5>li {
            counter-increment: lst-ctn-kix_1be2vzkxkezt-5
        }

        ul.lst-kix_6k402e41ep8b-7 {
            list-style-type: none
        }

        ol.lst-kix_1be2vzkxkezt-0.start {
            counter-reset: lst-ctn-kix_1be2vzkxkezt-0 0
        }

        ul.lst-kix_6k402e41ep8b-8 {
            list-style-type: none
        }

        ul.lst-kix_7g1ed9ca88aw-5 {
            list-style-type: none
        }

        ul.lst-kix_7g1ed9ca88aw-4 {
            list-style-type: none
        }

        ul.lst-kix_7g1ed9ca88aw-7 {
            list-style-type: none
        }

        ul.lst-kix_7g1ed9ca88aw-6 {
            list-style-type: none
        }

        ul.lst-kix_7g1ed9ca88aw-8 {
            list-style-type: none
        }

        ul.lst-kix_6k402e41ep8b-0 {
            list-style-type: none
        }

        ul.lst-kix_6k402e41ep8b-1 {
            list-style-type: none
        }

        ul.lst-kix_6k402e41ep8b-2 {
            list-style-type: none
        }

        ul.lst-kix_452kwcb7q9ie-5 {
            list-style-type: none
        }

        ul.lst-kix_452kwcb7q9ie-4 {
            list-style-type: none
        }

        ul.lst-kix_452kwcb7q9ie-3 {
            list-style-type: none
        }

        ul.lst-kix_452kwcb7q9ie-2 {
            list-style-type: none
        }

        ul.lst-kix_452kwcb7q9ie-8 {
            list-style-type: none
        }

        ul.lst-kix_452kwcb7q9ie-7 {
            list-style-type: none
        }

        ul.lst-kix_452kwcb7q9ie-6 {
            list-style-type: none
        }

        .lst-kix_1be2vzkxkezt-3>li {
            counter-increment: lst-ctn-kix_1be2vzkxkezt-3
        }

        .lst-kix_bqkc7k1bsekn-0>li {
            counter-increment: lst-ctn-kix_bqkc7k1bsekn-0
        }

        ol.lst-kix_bqkc7k1bsekn-4.start {
            counter-reset: lst-ctn-kix_bqkc7k1bsekn-4 0
        }

        .lst-kix_7g1ed9ca88aw-2>li:before {
            content: "\0025a0  "
        }

        .lst-kix_7g1ed9ca88aw-1>li:before {
            content: "\0025cb  "
        }

        .lst-kix_7g1ed9ca88aw-0>li:before {
            content: "\0025cf  "
        }

        .lst-kix_jk7sfx9h4rdm-2>li:before {
            content: "\0025a0  "
        }

        .lst-kix_jk7sfx9h4rdm-1>li:before {
            content: "\0025cb  "
        }

        .lst-kix_jk7sfx9h4rdm-3>li:before {
            content: "\0025cf  "
        }

        .lst-kix_jk7sfx9h4rdm-0>li:before {
            content: "\0025cf  "
        }

        .lst-kix_jk7sfx9h4rdm-4>li:before {
            content: "\0025cb  "
        }

        .lst-kix_7g1ed9ca88aw-3>li:before {
            content: "\0025cf  "
        }

        .lst-kix_7g1ed9ca88aw-4>li:before {
            content: "\0025cb  "
        }

        .lst-kix_7g1ed9ca88aw-6>li:before {
            content: "\0025cf  "
        }

        ol.lst-kix_1be2vzkxkezt-5.start {
            counter-reset: lst-ctn-kix_1be2vzkxkezt-5 0
        }

        .lst-kix_7g1ed9ca88aw-5>li:before {
            content: "\0025a0  "
        }

        .lst-kix_7g1ed9ca88aw-7>li:before {
            content: "\0025cb  "
        }

        ol.lst-kix_bqkc7k1bsekn-5.start {
            counter-reset: lst-ctn-kix_bqkc7k1bsekn-5 0
        }

        .lst-kix_7g1ed9ca88aw-8>li:before {
            content: "\0025a0  "
        }

        ul.lst-kix_452kwcb7q9ie-1 {
            list-style-type: none
        }

        ul.lst-kix_452kwcb7q9ie-0 {
            list-style-type: none
        }

        .lst-kix_bqkc7k1bsekn-7>li {
            counter-increment: lst-ctn-kix_bqkc7k1bsekn-7
        }

        ol.lst-kix_1be2vzkxkezt-6.start {
            counter-reset: lst-ctn-kix_1be2vzkxkezt-6 0
        }

        .lst-kix_bqkc7k1bsekn-4>li {
            counter-increment: lst-ctn-kix_bqkc7k1bsekn-4
        }

        ol.lst-kix_1be2vzkxkezt-4.start {
            counter-reset: lst-ctn-kix_1be2vzkxkezt-4 0
        }

        ul.lst-kix_jk7sfx9h4rdm-0 {
            list-style-type: none
        }

        ul.lst-kix_jk7sfx9h4rdm-1 {
            list-style-type: none
        }

        ul.lst-kix_jk7sfx9h4rdm-2 {
            list-style-type: none
        }

        ul.lst-kix_jk7sfx9h4rdm-3 {
            list-style-type: none
        }

        ul.lst-kix_f35rnr7eywic-7 {
            list-style-type: none
        }

        ul.lst-kix_f35rnr7eywic-8 {
            list-style-type: none
        }

        ul.lst-kix_f35rnr7eywic-5 {
            list-style-type: none
        }

        ul.lst-kix_f35rnr7eywic-6 {
            list-style-type: none
        }

        ul.lst-kix_jk7sfx9h4rdm-8 {
            list-style-type: none
        }

        ul.lst-kix_f35rnr7eywic-3 {
            list-style-type: none
        }

        ul.lst-kix_f35rnr7eywic-4 {
            list-style-type: none
        }

        ul.lst-kix_f35rnr7eywic-1 {
            list-style-type: none
        }

        ul.lst-kix_f35rnr7eywic-2 {
            list-style-type: none
        }

        ul.lst-kix_jk7sfx9h4rdm-4 {
            list-style-type: none
        }

        ul.lst-kix_jk7sfx9h4rdm-5 {
            list-style-type: none
        }

        ul.lst-kix_f35rnr7eywic-0 {
            list-style-type: none
        }

        ul.lst-kix_jk7sfx9h4rdm-6 {
            list-style-type: none
        }

        ul.lst-kix_jk7sfx9h4rdm-7 {
            list-style-type: none
        }

        .lst-kix_452kwcb7q9ie-3>li:before {
            content: "-  "
        }

        .lst-kix_452kwcb7q9ie-5>li:before {
            content: "-  "
        }

        .lst-kix_bqkc7k1bsekn-3>li {
            counter-increment: lst-ctn-kix_bqkc7k1bsekn-3
        }

        .lst-kix_452kwcb7q9ie-7>li:before {
            content: "-  "
        }

        ol.lst-kix_bqkc7k1bsekn-8.start {
            counter-reset: lst-ctn-kix_bqkc7k1bsekn-8 0
        }

        .lst-kix_59q9d7pquajc-7>li:before {
            content: "\0025cb  "
        }

        .lst-kix_jk7sfx9h4rdm-8>li:before {
            content: "\0025a0  "
        }

        .lst-kix_59q9d7pquajc-1>li:before {
            content: "\0025cb  "
        }

        .lst-kix_59q9d7pquajc-5>li:before {
            content: "\0025a0  "
        }

        .lst-kix_jk7sfx9h4rdm-6>li:before {
            content: "\0025cf  "
        }

        ol.lst-kix_1be2vzkxkezt-1.start {
            counter-reset: lst-ctn-kix_1be2vzkxkezt-1 0
        }

        .lst-kix_452kwcb7q9ie-1>li:before {
            content: "-  "
        }

        .lst-kix_59q9d7pquajc-3>li:before {
            content: "\0025cf  "
        }

        ol.lst-kix_1be2vzkxkezt-2.start {
            counter-reset: lst-ctn-kix_1be2vzkxkezt-2 0
        }

        .lst-kix_6k402e41ep8b-4>li:before {
            content: "\0025cb  "
        }

        .lst-kix_6k402e41ep8b-6>li:before {
            content: "\0025cf  "
        }

        ol.lst-kix_1be2vzkxkezt-3 {
            list-style-type: none
        }

        ol.lst-kix_1be2vzkxkezt-2 {
            list-style-type: none
        }

        ol.lst-kix_1be2vzkxkezt-1 {
            list-style-type: none
        }

        ol.lst-kix_1be2vzkxkezt-0 {
            list-style-type: none
        }

        .lst-kix_6k402e41ep8b-2>li:before {
            content: "\0025a0  "
        }

        .lst-kix_bqkc7k1bsekn-8>li {
            counter-increment: lst-ctn-kix_bqkc7k1bsekn-8
        }

        .lst-kix_1be2vzkxkezt-5>li:before {
            content: "("counter(lst-ctn-kix_1be2vzkxkezt-5, lower-roman) ") "
        }

        .lst-kix_cqgib6oxqr5w-1>li:before {
            content: "\0025cb  "
        }

        .lst-kix_1be2vzkxkezt-3>li:before {
            content: "("counter(lst-ctn-kix_1be2vzkxkezt-3, decimal) ") "
        }

        .lst-kix_1be2vzkxkezt-7>li:before {
            content: ""counter(lst-ctn-kix_1be2vzkxkezt-7, lower-latin) ". "
        }

        .lst-kix_cqgib6oxqr5w-3>li:before {
            content: "\0025cf  "
        }

        .lst-kix_bqkc7k1bsekn-2>li {
            counter-increment: lst-ctn-kix_bqkc7k1bsekn-2
        }

        .lst-kix_cqgib6oxqr5w-5>li:before {
            content: "\0025a0  "
        }

        .lst-kix_6k402e41ep8b-8>li:before {
            content: "\0025a0  "
        }

        ol.lst-kix_1be2vzkxkezt-3.start {
            counter-reset: lst-ctn-kix_1be2vzkxkezt-3 0
        }

        .lst-kix_cqgib6oxqr5w-7>li:before {
            content: "\0025cb  "
        }

        .lst-kix_1be2vzkxkezt-1>li:before {
            content: ""counter(lst-ctn-kix_1be2vzkxkezt-1, lower-latin) ") "
        }

        .lst-kix_bqkc7k1bsekn-7>li:before {
            content: ""counter(lst-ctn-kix_bqkc7k1bsekn-7, lower-latin) ". "
        }

        .lst-kix_bqkc7k1bsekn-1>li:before {
            content: ""counter(lst-ctn-kix_bqkc7k1bsekn-1, lower-latin) ") "
        }

        ol.lst-kix_1be2vzkxkezt-7 {
            list-style-type: none
        }

        ol.lst-kix_1be2vzkxkezt-6 {
            list-style-type: none
        }

        .lst-kix_bqkc7k1bsekn-5>li:before {
            content: "("counter(lst-ctn-kix_bqkc7k1bsekn-5, lower-roman) ") "
        }

        ol.lst-kix_1be2vzkxkezt-5 {
            list-style-type: none
        }

        ol.lst-kix_1be2vzkxkezt-4 {
            list-style-type: none
        }

        .lst-kix_6k402e41ep8b-0>li:before {
            content: "\0025cf  "
        }

        .lst-kix_bqkc7k1bsekn-3>li:before {
            content: "("counter(lst-ctn-kix_bqkc7k1bsekn-3, decimal) ") "
        }

        ol.lst-kix_1be2vzkxkezt-8 {
            list-style-type: none
        }

        ol {
            margin: 0;
            padding: 0
        }

        table td,
        table th {
            padding: 0
        }

        .c15 {
            padding-top: 18pt;
            padding-bottom: 6pt;
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c22 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 26pt;
            font-family: "Arial";
            font-style: normal
        }

        .c24 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 20pt;
            font-family: "Arial";
            font-style: normal
        }

        .c6 {
            padding-top: 16pt;
            padding-bottom: 4pt;
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c12 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 16pt;
            font-family: "Arial";
            font-style: normal
        }

        .c29 {
            color: #434343;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 14pt;
            font-family: "Arial";
            font-style: normal
        }

        .c17 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 10pt;
            font-family: "Arial";
            font-style: normal
        }

        .c0 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 11pt;
            font-family: "Arial";
            font-style: normal
        }

        .c13 {
            padding-top: 0pt;
            padding-bottom: 3pt;
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c2 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.15;
            orphans: 2;
            widows: 2;
            text-align: left;
            height: 11pt
        }

        .c21 {
            padding-top: 20pt;
            padding-bottom: 6pt;
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c18 {
            color: #000000;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 11pt;
            font-family: "Arial";
            font-style: normal
        }

        .c23 {
            color: #000000;
            font-weight: 400;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 11pt;
            font-family: "Arial"
        }

        .c4 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.15;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c7 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.15;
            orphans: 2;
            widows: 2;
            text-align: center
        }

        .c3 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.0;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .c26 {
            color: #000000;
            text-decoration: none;
            vertical-align: baseline;
            font-size: 11pt;
            font-family: "Arial"
        }

        .c9 {
            text-decoration-skip-ink: none;
            font-size: 10pt;
            -webkit-text-decoration-skip: none;
            color: #1155cc;
            text-decoration: underline
        }

        .c30 {
            background-color: #efefef;
            border-left-style: solid;
            padding-left: 6pt;
            border-left-color: #000000;
            border-left-width: 1pt
        }

        .c11 {
            padding-top: 0pt;
            padding-bottom: 0pt;
            line-height: 1.0;
            text-align: left
        }

        .c25 {
            text-decoration-skip-ink: none;
            -webkit-text-decoration-skip: none;
            color: #1155cc;
            text-decoration: underline
        }

        .c16 {
            background-color: #ffffff;
            max-width: 468pt;
            padding: 72pt 72pt 72pt 72pt
        }

        .c31 {
            width: 33%;
            height: 1px
        }

        .c20 {
            border: 1px solid black;
            margin: 5px
        }

        .c28 {
            padding: 0;
            margin: 0
        }

        .c14 {
            color: inherit;
            text-decoration: inherit
        }

        .c19 {
            font-size: 10pt
        }

        .c1 {
            font-style: italic
        }

        .c5 {
            font-weight: 700
        }

        .c10 {
            padding-left: 0pt
        }

        .c8 {
            margin-left: 36pt
        }

        .c27 {
            height: 16pt
        }

        .title {
            padding-top: 0pt;
            color: #000000;
            font-size: 26pt;
            padding-bottom: 3pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        .subtitle {
            padding-top: 0pt;
            color: #666666;
            font-size: 15pt;
            padding-bottom: 16pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        li {
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        p {
            margin: 0;
            color: #000000;
            font-size: 11pt;
            font-family: "Arial"
        }

        h1 {
            padding-top: 20pt;
            color: #000000;
            font-size: 20pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h2 {
            padding-top: 18pt;
            color: #000000;
            font-size: 16pt;
            padding-bottom: 6pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h3 {
            padding-top: 16pt;
            color: #434343;
            font-size: 14pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h4 {
            padding-top: 14pt;
            color: #666666;
            font-size: 12pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h5 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            orphans: 2;
            widows: 2;
            text-align: left
        }

        h6 {
            padding-top: 12pt;
            color: #666666;
            font-size: 11pt;
            padding-bottom: 4pt;
            font-family: "Arial";
            line-height: 1.15;
            page-break-after: avoid;
            font-style: italic;
            orphans: 2;
            widows: 2;
            text-align: left
        }
    </style>
</head>

<body>
    <div class="c16">
        <p class="c13 title" id="h.4caxlsxmzvpf"><span class="c22">Architectural considerations for asset
                delivery</span></p>
        <p class="c4"><span class="c0">How does a centralised asset delivery infrastructure deal with the usage
                scenarios described in the <a href="https://github.com/dlcs/protagonist/issues?q=label%3A%22Interaction+Pattern%22+sort%3Acreated-asc">interaction patterns</a>?</span></p>
        <h2 class="c15" id="h.sykyyewz1ykf"><span class="c12">Assumptions</span></h2>
        <p class="c4"><span class="c0">We&rsquo;re going to assume that, for all image assets, deep zoom is available.
                That doesn&rsquo;t mean that all user interfaces will always incorporate a pan and zoom interaction,
                just that some will, at least some of the time. This means that our IIIF Image Services should support
                tiles.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">We&rsquo;re going to assume that there are a lot of images. Hundreds of millions,
                perhaps, when all the sources of images are added up.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Some of these images are very high resolution, high quality digitization of
                artworks. The original files are very large. The ability to see fine detail is important. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Some of these images are lower resolution images of digitised pages, often of
                printed books. They tend to have smaller original files. This is partly because the things being imaged
                are often physically smaller, but also because the level of detail required is less.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>An entire Art Museum may only generate the same number of image </span><span
                class="c1">files</span><span class="c0">&nbsp;as one shelf of digitised library. But those files are
                usually much bigger - and have very different usage patterns.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">At least some images will be available for download - that is, users can download
                a reasonably high resolution version of the full image.</span></p>
        <h2 class="c15" id="h.kv7f7mtdb8w4"><span class="c12">Different levels of Image
                API&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h2>
        <p class="c4"><span>The IIIF Image API is designed to support </span><span class="c1">ramping up</span><sup><a
                    href="#ftnt1" id="ftnt_ref1">[1]</a></sup><span>&nbsp;- you can start with static files on disk and
                offer some functionality, and progress to dynamic image serving, offering more functionality. To deliver
                a service you must at least provide an image information document, the JSON file that describes the
                services you are offering for a given image (the info.json). You must also serve an image response to
                all the URLs that </span><span class="c1">could</span><span class="c0">&nbsp;be requested, given the
                information in the info.json document.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The simplest possible IIIF Image API implementation is just a single static JPEG
                image file, as long it is served from a URL that conforms to the specification and is accompanied by an
                info.json document that describes the (in this case, minimal) service. Only one API request (a URL with
                parameters) is possible, and it will return the single image file. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>A more useful service would offer the same full image at various sizes, listed in the
                info.json. Client code can choose the size most appropriate for their needs, whether it is a thumbnail,
                a larger image, or even a responsive image tag</span><sup><a href="#ftnt2"
                    id="ftnt_ref2">[2]</a></sup><span class="c0">.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>Neither of the above give you true, efficient deep zoom. For this, you need
                tiles</span><sup><a href="#ftnt3" id="ftnt_ref3">[3]</a></sup><span class="c0">. We can still do this
                with static tiles on disk, we just need a lot of them, and a script to process the master image to
                generate these static tile images. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">A large source image will require thousands of tile images on disk (or in
                inexpensive storage that can be given a web front end, like Amazon S3 or Azure Blob Storage). </span>
        </p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>All of the above are </span><span class="c1">Level 0</span><span class="c0">&nbsp;IIIF Image
                Services - they do not need a dynamic image server, like Loris or IIPImage. They are cheap, and
                scalable, and will usually provide high performance deep zoom without huge amounts of infrastructure
                costs.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c26 c1 c5">What does an image server give us that a static tile pyramid does
                not?</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>With an image server, we can request arbitrary regions, at arbitrary sizes, in different
                formats, rotations and mirrored. This opens up a much larger world of creative reuse. With a static tile
                set, we can only request the image tiles that have been created as a one-off operation, by a script.
                These are unlikely to be useful as images in their own right, only when consumed by a deep zoom client
                such as OpenSeadragon or Leaflet, which manages the seamless stitching together. A dynamic image server
                is a much more powerful pair of </span><span class="c1 c5">digital scissors</span><sup class="c1 c5"><a
                    href="#ftnt4" id="ftnt_ref4">[4]</a></sup><span class="c0">.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">With an image server, derivatives are created on the fly. There is no need to
                store thousands of small tile images, just the single master image that the image server will generate
                derivatives from at run-time, in response to user requests. This can be significant - mass digitisation
                of books will create many billions of tiles, many of which may never be used. There is a tradeoff -
                store one JPEG2000 file, but require an image server to respond to Image API requests, or store
                thousands of JPEG tiles, but require only static file hosting. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">An image server makes it easier to change our minds later. A better image server
                might come along that we can use with the same source images. We might change our minds about tile sizes
                for deep zoom, and supported formats. We can continue to offer new features.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Static image pyramids can be more resilient to heavy load, as they just require a
                web server. A dynamic image server is more susceptible to being swamped with load from concurrent
                requests.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <h1 class="c21" id="h.80lj8ttg1c0t"><span class="c24">The basic requirement</span></h1>
        <p class="c4"><span class="c1 c5 c26">An asset delivery platform that, if you tell it the URI of an image
                (regardless of format), will provide a IIIF Image API service endpoint for that image, the particular
                features of which can be controlled by policies.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>This URI is the </span><span class="c5">origin</span><span>&nbsp;of the image. It could be
                any web address - provide an image service for </span><span class="c25"><a class="c14"
                    href="https://www.google.com/url?q=https://example.org/mona-lisa.tiff&amp;sa=D&amp;ust=1605181597994000&amp;usg=AOvVaw18-XgZL80q0fVwt_we6kru">https://example.org/mona-lisa.tiff</a></span><span
                class="c0">. In practice it is likely to be the address of a master image file, delivered from a
                preservation system or some other more private location. It might not be an HTTP address, it could be an
                Amazon S3 location, or an FTP location, or some other protocol. There is one essential ingredient in
                providing the Image Service for this image - the Image Server.</span></p>
        <h2 class="c15" id="h.ny3yob6f5p06"><span class="c12">The Image Server</span></h2>
        <p class="c4"><span class="c0">IIPImage, Loris and Cantaloupe are Image Servers.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">For a given high-resolution master image (say a 100 megapixel tiff or JPEG2000)
                an image server is able to generate a derivative of the whole image or a region of the image, at
                different requested sizes. Usually the derivative is a jpeg but Image Servers usually generate other
                formats too, such as PNG.</span></p>
        <h3 class="c6" id="h.zao02rsnsd71"><span class="c29">Image servers need to be FAST</span></h3>
        <p class="c4"><span class="c0">The client makes many requests for tiles, possibly hundreds or even thousands as
                the user pans and zooms around the image. This would be very slow and compute-intensive with a naive
                implementation - open the 100MB hi-res image, crop, resize, convert to JPEG, serve the tile; do this
                hundreds of times a second to deal with real world load.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">While most image servers can deal with many standard image formats, performance
                is dramatically improved if the source images are JPEG2000 or Pyramidal TIFF. These formats allow
                progressive access. They encode multiple resolution levels. You don&#39;t need to open the whole bitmap
                but instead can randomly access the part of the file you need to generate the current tile.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">If using JPEG2000, there are two libraries available for decoding: Kakadu, which
                is commercial, and OpenJPEG, which isn&#39;t. You can use the IIPImage Server compiled with either
                Kakadu or OpenJPEG. Kakadu is very fast. OpenJPEG is catching up, but still has a way to go.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>Given a disk volume full of JPEG2000s, and an IIPImage server with that volume mounted, you
                can make requests like those above and it will open the right file and generate the derivative
                requested.</span><span class="c18 c5">&nbsp;It needs a filesystem, rather than (say) an objectstore like
                AWS S3, because it needs to make random access reads of the JPEG2000.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c7"><span
                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 279.86px; height: 610.50px;"><img
                    alt="" src="images/image1.png"
                    style="width: 279.86px; height: 610.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                    title=""></span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">This is the simplest kind of setup. </span></p>
        <p class="c4"><span class="c0">Buy enough fast disk storage to hold all your images, mount that disk storage on
                an image server instance, and expose it to the web.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">This doesn&rsquo;t address:</span></p>
        <p class="c2"><span class="c0"></span></p>
        <ul class="c28 lst-kix_f35rnr7eywic-0 start">
            <li class="c4 c10 c8"><span class="c0">How do the images get to be on that fast disk?</span></li>
            <li class="c4 c10 c8"><span class="c0">How do you manage them?</span></li>
            <li class="c4 c10 c8"><span class="c0">What if they are not in a suitable tiled format for the image server
                    to use them?</span></li>
            <li class="c4 c10 c8"><span class="c0">What if some of the images require access control?</span></li>
            <li class="c4 c10 c8"><span class="c0">What if they need different policies for maximum download size,
                    and/or other properties?</span></li>
            <li class="c4 c10 c8"><span class="c0">Fast disks start to get very expensive for millions of large image
                    files</span></li>
            <li class="c4 c10 c8"><span class="c0">What about AV?</span></li>
            <li class="c4 c10 c8"><span class="c0">What about other renderings of sets of images (e.g., a PDF)?</span>
            </li>
            <li class="c4 c10 c8"><span class="c0">How does it scale up for large volumes of traffic?</span></li>
        </ul>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The last point is conceptually simplest to address. You start to have multiple
                image servers, in a load balanced cluster, adding as many as needed to meet peak load requirements, and
                you can add a cache in front of the image server, to store the most commonly requested
                derivatives:</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c7"><span
                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 550.41px; height: 624.50px;"><img
                    alt="" src="images/image2.png"
                    style="width: 550.41px; height: 624.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                    title=""></span></p>
        <p class="c2 c8"><span class="c0"></span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">This addresses performance, but not any of the other issues.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The problem with the lower part of the image is the scale of the content itself.
                Large institutions have a lot of images - hundreds of millions, potentially many terabytes of disk space. These are typically stored in some form of digital preservation system. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Access to these images also follows the steep long-tail distribution discussed in
                the usage scenarios document. Many images won&#39;t get looked at for months or even years, whereas some
                are looked at all the time. It&rsquo;s not cost effective to store hundreds of millions of
                seldom-accessed images on high cost SSDs in anticipation of the moment they are needed to service an
                image request. Better to use lower cost object storage such as AWS S3 or Azure Blob Storage.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">We want the best of both worlds - we want the low cost of blob storage for
                terabytes of images, especially as many of them are rarely used. But we need the performance and
                crucially the random access file system behaviour of EBS and similar volumes, because this is what Image
                Servers need (with some exceptions discussed later).</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>The answer to this is an architecture that involves </span><span
                class="c1">Orchestration</span><span class="c0">. This means bringing images to the fast disk storage as
                and when they are required, and only when required.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>The DLCS Model uses an image server, or a cluster of load-balanced image servers, under the
                hood. But it fronts the image servers with an </span><span
                class="c1">Orchestrator</span><span>&nbsp;that copies files from low-cost </span><span
                class="c1">origins </span><span>(for example, S3)</span><span class="c0">&nbsp;to a local filesystem
                volume for use by the image server. As far as the image server is concerned, whenever it gets a request
                to extract a region from an image, that image is where it expects it to be: on a locally readable disk.
                But it&#39;s only there because the orchestrator ensured it was there before the request arrived at the
                image server.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>At any one time, only a small subset of the possible images that the DLCS Model knows about
                (that have been registered) are on expensive fast disks. This </span><span class="c5">&ldquo;hot&rdquo;
            </span><span class="c5">cache</span><span class="c0">&nbsp;is what the DLCS Model maintains - ensuring
                images are present when the image server needs them, and scavenging disk space to keep this working set
                at a sensible size.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>The rest of the images that the DLCS Model knows about are in cheaper storage, for example,
                AWS S3. Sometimes this S3 will be the system&rsquo;s own bucket, because it copied the image there from
                its original origin when the image was registered, or because it </span><span class="c5">created a
                JPEG2000 derivative</span><span class="c0">&nbsp;from the original origin version (e.g. a TIFF) so it
                could serve tiles faster.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>However, sometimes it will be some other component&rsquo;s S3 bucket. If the image is
                already a tile-optimised JPEG2000 or </span><span>pyramidal TIFF</span><span class="c0">, and if the
                DLCS Model knows it can just fetch it from there whenever it needs to Orchestrate in the future, then no
                additional storage is required - the system treats such origins as if they were its own storage. This
                usually requires granting cross-AWS account access, so the system can read the customer&#39;s
                bucket(s).</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span
                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 774.67px;"><img
                    alt="" src="images/image4.png"
                    style="width: 624.00px; height: 774.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                    title=""></span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The problem with orchestration is that it introduces a step that can hurt
                performance.</span></p>
        <p class="c4"><span class="c0">Any incoming request needs to be checked to make sure that the source image
                needed to service it is present - is orchestrated. This check has to impose as little overhead as
                possible. And if it isn&rsquo;t present, the orchestration - typically a copy from S3 to EBS (on AWS) -
                has to happen. And any requests that depend on the same image that arrive while that is going on need to
                wait - and not also trigger an orchestration operation.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Typically, tile requests arrive in floods. However, they are usually preceded by
                a request for the info.json (from a client like OpenSeadragon) and we can use that as a trigger for
                orchestration. Almost all of the time, a single info.json request will be followed by a flood of tile
                requests.</span></p>
        <p class="c4"><span class="c0">This isn&rsquo;t always true, however, and we need to cater for many concurrent
                tile requests for the same image arriving, when we have not been forewarned with the info.json
                request.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The Orchestrator needs to maintain a lock, and know the state of the image - is
                it already orchestrated, not orchestrated, or in the process of being orchestrated right now?</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The performance and implementation of this lock is critical to the DLCS
                Model.</span></p>
        <h1 class="c21" id="h.iut1ejiw17ei"><span class="c24">Beyond the basic architecture</span></h1>
        <p class="c4"><span class="c0">The description above is the core of what the DLCS Model is, for actually serving
                the images. But how do the images get there in the first place? </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>We need more! It gets far more complex when it&#39;s a managed service that needs to support
                other functionality and integrate, via its API, with customer digitisation workflows, and to
                use on diverse projects with very different use cases. It needs to be a managed service, with
                administrative user interface, instrumentation, reporting, and other features. And </span><span>there
                are some issues</span><span class="c0">&nbsp;with the simple orchestration scenario described
                above.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <h2 class="c15" id="h.pj2cixc4apzd"><span class="c12">Thumbnails</span></h2>
        <p class="c4"><span class="c0">While access to images for deep zoom is an extreme long tail distribution, some
                scenarios throw a wrench into this model. Suppose we have a 1000-page book that nobody has looked at for
                years. None of its images are in the &quot;hot&quot; cache. Suddenly someone looks at it in a viewer
                that makes hundreds of thumbnail requests for the pages to generate its UI.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>Even if the user doesn&#39;t actually look at all those pages, we&#39;ve had to </span><span
                class="c1">Orchestrate</span><span class="c0">&nbsp;- move hundreds of images to the hot cache, just to
                generate one thumbnail for each and nothing else. That&#39;s a bit wasteful.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">To help avoid this the DLCS Model makes a set of thumbnails for each image when
                it is registered and stores them in blob storage (S3). The sizes of thumbnails to make are set by one or
                more thumbnail policies. When it gets image requests for full region images that match a thumbnail size,
                it proxies the image response directly from S3 without troubling the image server, which means no
                orchestration was required - the master image was not copied from S3 just to generate a
                thumbnail.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">More on thumbnails:</span></p>
        <p class="c4"><span class="c25"><a class="c14"
                    href="https://www.google.com/url?q=https://gist.github.com/tomcrane/093c6281d74b3bc8f59d&amp;sa=D&amp;ust=1605181598006000&amp;usg=AOvVaw2Xa_GpVy2oZ6E_QX1uuBbN">https://gist.github.com/tomcrane/093c6281d74b3bc8f59d</a></span>
        </p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Note that a variation of this thumbnail selection algorithm is present in Mirador
                3. This means Mirador 3 is already optimised for a DLCS Model.</span></p>
        <h2 class="c15" id="h.6a9qbd4whha7"><span class="c12">Access Control</span></h2>
        <p class="c4"><span class="c0">Not everything is freely visible to anonymous users. The DLCS Model needs to
                enforce access control, on behalf of the customer, on the image pixels it serves. Some images are OK for
                public use up to a certain size (e.g., you can see a thumbnail but not a higher resolution version).
                Others require specific permissions.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>When an image is registered via the API it can be given a required </span><span
                class="c1">Role</span><span class="c0">&nbsp;- the user must be in this role to see the image. The
                system then has an API for &quot;backchannel&quot; use for acquiring the roles for a given user, so it
                can establish a session and then match the user&#39;s known roles with the roles demanded by the
                image.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The DLCS Model does this for the client by implementing the IIIF Auth API, and
                for role acquisition a simple CAS-like delegation to some services the customer must provide (e.g., at
                Wellcome we implement this part in the DDS, their equivalent of the IIIF Server).</span></p>
        <h2 class="c15" id="h.jxu5vl9eo8od"><span class="c12">A comprehensive API</span></h2>
        <p class="c4"><span class="c0">How do images get into the DLCS Model? How do you register origins and manage
                millions of images? How do you set policies, such as the sizes of thumbnails to produce, or
                configuration of access control?</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>In some scenarios, the DLCS Model might be the back end to a </span><span>content creation
                tool</span><span class="c0">, like a manifest editor or Image Media Manager. Users build IIIF resources
                and register new assets with the system.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">More commonly, the DLCS Model is used in a complex systems integration context.
                It&#39;s part of a digitisation workflow. As high resolution master images roll off of the digitisation
                production line, they are registered with the system to provide public access via the Image API, or AV
                derivatives. To fit into many different scenarios, the DLCS Model has an API that allows external
                workflows, dashboards and other tools to integrate with it.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <h2 class="c15" id="h.xnnbggvyirfz"><span class="c12">Client and Server API access</span></h2>
        <p class="c4"><span class="c0">A Management API for systems integration is likely to be consumed from other
                servers - machine-to-machine. Some of the same API is likely to be consumed from browser-based web
                applications. Content creation tools will use HTTP calls to interact with the asset delivery platform
                API, including sending it new images. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The platform needs to provide an API and access control policy for it that works
                for machine-to-machine and browser-to-server scenarios.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">NB this is not the same as access control for the assets themselves, via IIIF
                Auth.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>(DLCS Note - the DLCS API currently works well for machine-to-machine scenarios, but is not
                suited to direct browser-to-machine scenarios requiring authentication. This is an area we have
                identified for improvement, and alignment with other systems that use JSON Web Tokens</span><sup><a
                    href="#ftnt5" id="ftnt_ref5">[5]</a></sup><span class="c0">).</span></p>
        <h2 class="c15" id="h.10vuy41e07g5"><span class="c12">Conversion to tile-ready format</span></h2>
        <p class="c4"><span class="c0">We don&rsquo;t want to put the onus of preparing an image file that is optimised
                for tile generation on the end user of the system, or on the systems that consume its API. In fact, this
                should be opaque to the API consumer, or users of tools that consume the API - they are just telling the
                system that they want it to provide an Image Service for a given image at some origin. The DLCS Model
                should decide whether the image is already appropriate for tile generation (e.g., it is a JPEG2000 with
                appropriate settings) and if not, convert the source image itself, and store that converted source image
                and use it from an internal origin, rather than the original.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>In the real world, sense dictates that we allow some light into this process. We can be
                specific and set a policy that our </span><span>source images are already </span><span
                class="c5">optimised</span><span>&nbsp;if they come from a certain location</span><span class="c0">, so
                we can avoid preparing what we think are tile-ready JPEG 2000 images only for the system to convert them
                to slightly different ones.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Treating the origin as opaque, and the format used by the DLCS Model to drive
                image servers as internal private information, allows the implementation to change in future without
                changing external contracts. For example, if a more efficient image encoding comes along.</span></p>
        <h2 class="c15" id="h.adyl3os891rc"><span class="c12">Metadata for development scenarios</span></h2>
        <p class="c4"><span class="c0">The most important thing to tell the DLCS Model about an image is its origin -
                where to find the master image. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">But images have other metadata - some intrinsic, like height or width; and some
                arbitrary, supplied by the workflow process, tool or other application that&rsquo;s making use of the
                system. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Roles and tags can be supplied, and also arbitrary string fields and integer
                fields that the caller can use for any purpose. This is very useful for building workflows,
                synchronisation and reconciliation - you can use the system to store some values with the images for
                whatever programmatic purpose you might want later.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c18 c5">Using metadata for querying, harvesting and other system-to-system
                functions</span></p>
        <p class="c2"><span class="c5 c18"></span></p>
        <p class="c4"><span class="c0">The DLCS model allows the storing of arbitrary metadata per image. The system
                doesn&rsquo;t understand what this metadata is, but it can query on and group by this
                metadata:<br><br>&ldquo;List all the images where field1=zzz and field2=yyy, order by
                field3&rdquo;</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">This capability allows for other systems to use the DLCS Model as a development
                platform. It can be used to run reports, harvest images that match a certain criteria, even possibly
                batch-update fields.</span></p>
        <h2 class="c15" id="h.bf9wwc1bh0bu"><span class="c12">Named queries</span></h2>
        <p class="c4"><span>One of these purposes is </span><span class="c1">named queries</span><span>&nbsp;- you can
                ask the DLCS Model to select from images where one of the values matches some criterion, then order by
                one of the other values. The system can return this query as a IIIF Manifest, and possibly other
            </span><span class="c1">projections</span><span class="c0">. So while it doesn&#39;t know anything about
                structure above the level of an individual image, you can use the system to construct skeleton Manifests
                based on queries, because you used your knowledge of higher level structure and organisation to give the
                DLCS Model additional metadata that you can later query on.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <h2 class="c15" id="h.d6m4ulcmvrjq"><span class="c12">Audio, Video</span></h2>
        <p class="c4"><span class="c0">It&#39;s not just images.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">You can register audio and video with the DLCS Model. It could be a
                multi-gigabyte unoptimised archival video file, completely inappropriate for web use. This is analogous
                to our 100 megapixel image above. The system will convert the origin image into one or more web-friendly
                derivatives (e.g., MP3 for audio) and store them. In current implementations it uses Amazon Elastic
                Transcoder to generate the web-friendly versions, which it stores in S3 for efficient delivery.</span>
        </p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>This </span><span class="c1">Asset Delivery</span><span class="c0">&nbsp;is key to
                understanding the point of the DLCS Model - you have one system or source of not-web-friendly archive
                images, AV files etc. And the Model provides access to them through open standards - the IIIF Image API
                for images, and web-friendly AV formats for time-based media. It&#39;s not a preservation system itself
                - it provides highly scalable, high performing access to these digital assets, for web use.</span></p>
        <h2 class="c15" id="h.iux7el8jtoa"><span class="c12">PDF generation</span></h2>
        <p class="c4"><span>Example: </span><span class="c25"><a class="c14"
                    href="https://www.google.com/url?q=https://dlcs.io/pdf/wellcome/pdf-item/b22031194/0&amp;sa=D&amp;ust=1605181598012000&amp;usg=AOvVaw1oyurjbTkMzygzo4lNvAgN">https://dlcs.io/pdf/wellcome/pdf-item/b22031194/0</a></span><span
                class="c0">&nbsp;</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">This combines the named query functionality with the large thumbnail generation,
                to create PDFs from sequences of images.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">It knows how to request a title page, whether to redact any pages based on
                permissions, and whether to enforce access control on the PDF document.</span></p>
        <h2 class="c15" id="h.mjo7oqi15yty"><span class="c12">Dealing with full image requests</span></h2>
        <p class="c4"><span class="c0">Thumbnails are one type of full image request. Others are downloads of high
                resolution derivatives, or even people harvesting images at the highest resolution they can. The latter
                scenario is another one likely to work against the caching advantage that long-tailed distribution gives
                us. If someone harvests a huge number of full images at sizes larger than the largest thumbnail, they
                will all need orchestrating to service these requests. This puts pressure on the cache. There are always
                going to be one-off requests that invoke an orchestration, this is part of the design, but we want to
                guard against scenarios that could fill the &ldquo;hot&rdquo; cache with images that are only there to
                serve one person.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The user experience of a large full image is different from that of image tiles.
                While users can expect tile delivery to be very fast, and the deep zoom experience smooth and free of
                glitches and artifacts, we can keep people waiting a little longer to download a large full image. It is
                also easier to rate-limit requests from the same source for full images, as opposed to tiles. </span>
        </p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">This means we could choose to orchestrate full images in a different way -
                perhaps to a different orchestration location with a different size and eviction policies - or choose
                not to orchestrate them at all, and stream the necessary information directly from blob storage. The
                Cantaloupe image server has an implementation of byte-range request streaming from S3. This is
                substantially slower than an image server reading the file from a local disk, and would be very
                inefficient and slow for dealing with tiles - but could be appropriate for large full image requests.
                This means that small full images could be served using thumbnail derivatives made at ingest time, large
                full images could be served by processing image data directly from blob storage, leaving image servers
                and the orchestration process to meet traffic generated by deep zoom tile requests, and arbitrary region
                requests.</span></p>
        <h2 class="c15" id="h.jvkkyyll8med"><span class="c12">What Image Server to use?</span></h2>
        <p class="c4"><span class="c0">Our current implementation of the DLCS Model uses IIPImage. In some instances
                this is </span></p>
        <p class="c4"><span class="c0">Work by The Getty (link) concluded that IIPImage with pyramidal TIFFs is the
                fastest image delivery mechanism available, but raw speed isn&rsquo;t the only consideration. </span>
        </p>
        <p class="c4"><span class="c0">For JPEG2000, IIPImage with Kakadu is faster than IIPImage with OpenJPEG - but
                the licensing costs for using IIPImage with Kakadu for central infrastructure might be very
                high; that money could be spent on additional compute resources for OpenJPEG instead, or something else
                later.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">If the user interfaces that most DLCS assets are viewed through makes use of
                the thumbnail features described above, and large full images are handled by different means, and there
                is a large reverse proxy tile cache sitting in front of the asset delivery infrastructure, then the
                contribution that raw image server performance makes to the overall user experience and perception of
                performance is much less than if the image server alone is doing all the work.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span
                style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 352.00px;"><img
                    alt="" src="images/image3.png"
                    style="width: 624.00px; height: 352.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
                    title=""></span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c23 c1">Mirador 3 uses the thumbnail service offered by the DLCS - none of the
                thumbnails in this view would have triggered an orchestration event. None of them was served from an
                Image Server in the conventional sense.</span></p>
        <p class="c2"><span class="c23 c1"></span></p>
        <p class="c4"><span class="c0">Arbitrary region selection, such as might be produced in a cropping tool or in
                the UV&rsquo;s &ldquo;Save Current View&rdquo; feature, is also an interaction where the perception of
                speed is not as important as with tile delivery. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">It&rsquo;s important that all image delivery is fast - we don&rsquo;t mean that
                people should be prepared to wait seconds - but that some patterns of image delivery must be as fast as
                possible, and others can be slightly slower, without any adverse effect on the user&rsquo;s perception
                of the speed of the platform as a whole, the general performance of their interactions with a complex
                digital object. There are always tradeoffs to be made between cost and performance; the DLCS Model is
                about reducing cost without reducing perceived performance to the end user.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>Deep Zoom tile delivery </span><span class="c1">for uncached tiles</span><span
                class="c0">&nbsp;is the most important speed-critical function left to the image server, and here we can
                weigh up the characteristics of various image servers. </span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>IIPImage always offers the same size tile regardless of the encoding of a JPEG2000, whereas
                Loris and </span><span>Cantaloupe</span><span>&nbsp;are more observant of how the JPEG2000 was actually
                encoded, and give larger tiles if they are more efficient. IIPImage&rsquo;s 256 x 256 tile size has been
                like that since it began, and might be too small - although you can edit the default</span><sup><a
                    href="#ftnt6" id="ftnt_ref6">[6]</a></sup><span class="c0">. If using IIPImage, a 512 x 512 tile
                size might be a better default for the larger screens and higher bandwidth available in 2020. </span>
        </p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">A tile size of 256 made sense 20 years ago, but now we have retina displays,
                faster internet connections, bigger monitors. The balance between the number of HTTP requests, size of
                individual requests, proportion of the viewport that such a request would tile&hellip; these are all
                different in 2020.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Our feeling is that a 512 tile size would feel faster, because it would
                mean:<br></span></p>
        <p class="c4"><span class="c0">&nbsp;- 1/4 the number of HTTP requests (important for mobile)</span></p>
        <p class="c4"><span class="c0">&nbsp;- That size image would no longer be considered &quot;big&quot;</span></p>
        <p class="c4"><span class="c0">&nbsp;- 1/4 the per-request decoding overhead</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">That is, the same computational resources on the server would deliver a perceived
                user experience improvement, with this change.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">However, we haven&rsquo;t gathered quantitative data on this yet.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Loris is generally the first to have a complete implementation of any new IIIF
                Image API features.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">Cantaloupe has many intriguing extensions that might be useful (e.g., offering an
                image service for stills from a video file). Some of these extensions would require that the DLCS Model
                was aware specifically of Cantaloupe, rather than treating the Image Server as a black box
                implementation of the Image API.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>Ultimately, there is no reason why a complex DLCS Model couldn&rsquo;t use more than one
                image server, and decide which one to use based on the request. E.g., route tiles to one cluster,
                arbitrary regions to another. Or route handling of small lossy source files (like digitised library book
                pages) to one cluster and large high quality artworks to another. The routing within the DLCS Model can
                make decisions based on the request parameters and the</span><span>&nbsp;characteristics of the source
                image.</span><sup><a href="#cmnt1" id="cmnt_ref1">[a]</a></sup><sup><a href="#cmnt2"
                    id="cmnt_ref2">[b]</a></sup></p>
        <h2 class="c15" id="h.5f6527whb0n6"><span class="c12">Orchestration Scavenging Algorithms</span></h2>
        <p class="c4"><span class="c0">As images are moved to the fast disks by the Orchestrator, that finite disk space
                fills up.</span></p>
        <p class="c4"><span>Another process runs to </span><span class="c1 c5">scavenge</span><span class="c0">&nbsp;the
                disk space, to ensure we never run out of room.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>The current DLCS Model uses a simple </span><span class="c1">Least Recently Used
            </span><span class="c0">(LRU) approach. This could be made more complex, to take other factors into account
                when deciding what images to evict from the cache. These factors might include:</span></p>
        <p class="c2"><span class="c0"></span></p>
        <ul class="c28 lst-kix_59q9d7pquajc-0 start">
            <li class="c4 c10 c8"><span class="c0">The number of times this has been accessed - e.g., although it
                    hasn&rsquo;t been used for a week, it regularly gets bursts of high traffic, so we predict that
                    we&rsquo;d only have to bring it back into the cache again soon</span></li>
            <li class="c4 c8 c10"><span class="c0">File size (and therefore, cost/time of orchestration) is a factor
                    that works both ways. If we make larger images more sticky in the cache, we do avoid having to copy
                    them around quite as much - but we fill our cache with fewer large images instead of many small
                    ones, which may not be the desired outcome.</span></li>
            <li class="c4 c10 c8"><span>I</span><span class="c0">mages that should NEVER be orchestrated. This is a
                    possible scenario that the architecture could support. Clients would need to assert this at
                    registration time, and these images should live on their own volume, and get copied to that volume
                    at registration time - if that volume is out of disk space, then there will be an error at
                    registration time - and you could extend the disk space. See Appendix for an extended discussion of
                    this.</span></li>
        </ul>
        <p class="c2"><span class="c0"></span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c2"><span class="c0"></span></p>
        <h2 class="c15" id="h.f4opyeda4pbt"><span class="c12">Support Image API 2.1 and 3</span></h2>
        <p class="c4"><span class="c0">The DLCS Model can support more than one version of the Image API (and can even
                do this if the underlying Image Server can&rsquo;t).</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">While not present in our current implementation, the architecture could support
                servicing the same origin image from two endpoints, one for each version of the API (and avoid
                orchestrating the same image just because it&rsquo;s getting requests via both APIs).</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">There is very little performance overhead with this, but care needs to be taken
                in considering the Image Service URIs; the current DLCS design does not include service versioning in
                the path.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c2"><span class="c0"></span></p>
        <h2 class="c15" id="h.5sw0w0f6clvy"><span class="c12">Analytics</span></h2>
        <p class="c4"><span class="c0">The DLCS currently collects logs, but nothing specialised for analytics. It
                could.</span></p>
        <hr style="page-break-before:always;display:none;">
        <h2 class="c15 c27" id="h.bqo3z46mk7vt"><span class="c12"></span></h2>
        <h2 class="c15" id="h.hx1leo51yfyr"><span>Appendix - </span><span class="c1">The Night Watch</span><span
                class="c12">&nbsp;as Orchestration Use Case</span></h2>
        <p class="c4"><span class="c0">In principle, a DLCS Model would handle an image like the Night Watch just fine.
                IIPImage can handle gigapixel JPEG2000 and Pyramidal TIFFs.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">The difficulty is orchestration - we assume that moving a few MB or even 10-20MB
                of JP2 from bob storage (S3) to random access disk (EBS) is an operation that won&#39;t inconvenience
                users, especially as, with a long tail distribution, most users do not experience it for most
                requests.</span></p>
        <p class="c4"><span class="c0">For the Night Watch, you would want this image permanently orchestrated, so that
                the tilesource image never had to be copied on demand to service a IIIF request.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">As one of the treasures of the collection, The Night Watch would certainly be
                regularly accessed and therefore in the &ldquo;hot&rdquo; disk cache. And as long as it&rsquo;s there,
                IIPImage (and other image servers) do not have a problem with images like this, as JP2s or Pyramidal
                TIFFs. The files are huge, but the image server never needs to load them whole, just bits of them.
            </span></p>
        <p class="c4"><span class="c0">Consider, though, the case of very large images that are not as popular as the
                Night Watch. They might be aiding a conservation project. A large number of very large images would
                swamp the hot cache.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span>Cantaloupe has done some work in making byte-range requests to JP2s in S3</span><sup><a
                    href="#ftnt7" id="ftnt_ref7">[7]</a></sup><span class="c0">.</span></p>
        <p class="c2"><span class="c0"></span></p>
        <p class="c4"><span class="c0">e.g., say if I had a max policy of 2000 px on that Night Watch image in the
                system.</span></p>
        <p class="c4"><span class="c0">If I ask for /full/max, I could service that with maybe a 1~2 MB byte range
                request to S3, directly. Even if the JP2 in S3 is 100GB.</span></p>
        <hr class="c31">
        <div>
            <p class="c3"><a href="#ftnt_ref1" id="ftnt1">[1]</a><span class="c19">&nbsp;</span><span class="c9"><a
                        class="c14"
                        href="https://www.google.com/url?q=https://iiif.io/api/annex/notes/design_patterns/%23intelligently-manage-ramping-up&amp;sa=D&amp;ust=1605181598021000&amp;usg=AOvVaw2a1zmwEkIFmbZfPba4YQRW">https://iiif.io/api/annex/notes/design_patterns/#intelligently-manage-ramping-up</a></span>
            </p>
        </div>
        <div>
            <p class="c3"><a href="#ftnt_ref2" id="ftnt2">[2]</a><span class="c19">&nbsp;</span><span class="c9"><a
                        class="c14"
                        href="https://www.google.com/url?q=https://tomcrane.github.io/iiif-img-tag/&amp;sa=D&amp;ust=1605181598020000&amp;usg=AOvVaw1_6U8bqfoAO5tQPzif84FL">https://tomcrane.github.io/iiif-img-tag/</a></span>
            </p>
        </div>
        <div>
            <p class="c3"><a href="#ftnt_ref3" id="ftnt3">[3]</a><span class="c19">&nbsp;</span><span class="c9"><a
                        class="c14"
                        href="https://www.google.com/url?q=https://www.gasi.ch/blog/inside-deep-zoom-1&amp;sa=D&amp;ust=1605181598021000&amp;usg=AOvVaw0f8QX6YMorUi_PpXdycYhk">https://www.gasi.ch/blog/inside-deep-zoom-1</a></span><span
                    class="c19">&nbsp;</span></p>
        </div>
        <div>
            <p class="c3"><a href="#ftnt_ref4" id="ftnt4">[4]</a><span class="c19">&nbsp;</span><span class="c9"><a
                        class="c14"
                        href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3D-od9S8kn5b8&amp;sa=D&amp;ust=1605181598022000&amp;usg=AOvVaw2s9sdnjmLZENmlx1pP4dh-">https://www.youtube.com/watch?v=-od9S8kn5b8</a></span>
            </p>
        </div>
        <div>
            <p class="c3"><a href="#ftnt_ref5" id="ftnt5">[5]</a><span class="c19">&nbsp;</span><span class="c9"><a
                        class="c14"
                        href="https://www.google.com/url?q=https://jwt.io/&amp;sa=D&amp;ust=1605181598023000&amp;usg=AOvVaw3DJts-YOHP6SeSpaUtoZSd">https://jwt.io/</a></span><span
                    class="c19">&nbsp;</span></p>
        </div>
        <div>
            <p class="c3"><a href="#ftnt_ref6" id="ftnt6">[6]</a><span class="c17">&nbsp;</span></p>
        </div>
        <div>
            <p class="c3"><a href="#ftnt_ref7" id="ftnt7">[7]</a><span class="c19">&nbsp;</span><span class="c25"><a
                        class="c14"
                        href="https://www.google.com/url?q=https://groups.google.com/forum/%23!msg/iiif-discuss/OOkBKT8P3Y4/u2Lah-h_EAAJ&amp;sa=D&amp;ust=1605181598022000&amp;usg=AOvVaw2U4DUaPo9j3VWXVcNmxff_">https://groups.google.com/forum/#!msg/iiif-discuss/OOkBKT8P3Y4/u2Lah-h_EAAJ</a></span><span>&nbsp;and
                </span><span class="c25"><a class="c14"
                        href="https://www.google.com/url?q=https://github.com/dlcs/protagonist/blob/rfc-stubs/docs/rfcs/002-storage-and%2520orchestration.md%23alternatives-to-orchestration-where-possible&amp;sa=D&amp;ust=1605181598022000&amp;usg=AOvVaw1yMenGdxw9U5NX4TpLb9XT">https://github.com/dlcs/protagonist/blob/rfc-stubs/docs/rfcs/002-storage-and%20orchestration.md#alternatives-to-orchestration-where-possible</a></span><span>&nbsp;</span>
            </p>
        </div>
        <div class="c20">
            <p class="c11"><a href="#cmnt_ref1" id="cmnt1">[a]</a><span class="c0">Can routing decisions be based on
                    custom metadata as described in the &quot;Metadata for development scenarios&quot; section?</span>
            </p>
        </div>
        <div class="c20">
            <p class="c11"><a href="#cmnt_ref2" id="cmnt2">[b]</a><span class="c0">We haven&#39;t done that before but I
                    believe it could work. An external store, such as the &#39;hot-cache manager&#39; from the Proposed
                    Architecture document could be used to store relevant metadata for an image. This could be used to
                    determine which image servers to use.</span></p>
        </div>
    </div>
</body>

</html>